(this["webpackJsonpshopify2022-feiw"]=this["webpackJsonpshopify2022-feiw"]||[]).push([[0],{24:function(e,t,s){},33:function(e,t,s){"use strict";s.r(t);var c=s(1),n=s.n(c),a=s(14),i=s.n(a),r=(s(24),s(4)),o=s(8),l=s(0),j=function(){return Object(l.jsx)("nav",{className:"mt-2",children:Object(l.jsxs)("ul",{className:"flex text-gray-500 font-medium",children:[Object(l.jsxs)(o.b,{className:"flex items-center justify-center mr-4 hover:text-gray-800",to:"/",children:[Object(l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-1 text-indigo-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),Object(l.jsx)("li",{children:"Home"})]}),Object(l.jsxs)(o.b,{className:"flex items-center justify-center hover:text-gray-800",to:"/likes",children:[Object(l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-1 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),Object(l.jsx)("li",{children:"Likes"})]})]})})},d=function(){return Object(l.jsxs)("header",{className:"mb-4",children:[Object(l.jsx)("h1",{className:"text-2xl font-bold",children:Object(l.jsx)(o.b,{to:"/",children:"Spacestagram"})}),Object(l.jsx)("p",{className:"text-gray-600 font-light",children:"Image-sharing from the final frontier"}),Object(l.jsx)(j,{})]})},b=function(){return Object(l.jsx)("footer",{className:"mt-4 border-t-2 pt-4",children:Object(l.jsx)("p",{className:"text-gray-400 font-light",children:"Made by Emre for Shopify Front End Developer Intern Winter 2022 hiring challange."})})},h=function(e){var t=e.children;return Object(l.jsxs)("div",{className:"max-w-lg m-auto my-8",children:[Object(l.jsx)(d,{}),t,Object(l.jsx)(b,{})]})},m=s(7),u=s(34),x=function(e){var t=e.author,s=e.date;return Object(l.jsx)("picture",{className:"w-16 h-16",children:"A random scientist."===t?Object(l.jsx)("img",{className:"rounded-full w-16 h-16 border-2 border-gray-900 bg-pink-200",src:"https://robohash.org/".concat(t,".png?set=set2"),alt:"Avatar of the user."}):Object(l.jsx)("img",{className:"rounded-full w-16 h-16 border-2 border-gray-900 bg-pink-200",src:"https://robohash.org/".concat(s,".png?set=set2"),alt:"Avatar of the user."})})},g=function(e){var t=e.likedPosts,s=e.setLikedPosts,n=e.title,a=e.date,i=e.description,o=e.author,j=e.mediaType,d=e.imageHD,b=e.imageSD,h=Object(c.useState)(!1),m=Object(r.a)(h,2),u=m[0],x=m[1],g=function(){return t.some((function(e){return e.id===n+a}))},O=function(e){e.preventDefault();var t={id:n+a,likedAt:new Date,title:n,description:i,author:o,mediaType:j,imageHD:d,imageSD:b,date:a};u?function(e){var t=JSON.parse(localStorage.getItem("likedPosts")).filter((function(t){return t.id!==e.id}));s(t),localStorage.setItem("likedPosts",JSON.stringify(t))}(t):function(e){var t=JSON.parse(localStorage.getItem("likedPosts"));t.push(e),s(t),localStorage.setItem("likedPosts",JSON.stringify(t))}(t),x(!u)};return Object(c.useEffect)((function(){console.log(g()),g()?x(!0):x(!1)}),[]),Object(c.useEffect)((function(){}),[u]),u?Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("button",{className:"animation text-red-500 hover:text-red-700 flex",onClick:O,children:[Object(l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-1 ",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),"Dislike"]})}):Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("button",{onClick:O,className:"flex animation hover:text-gray-500",children:[Object(l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),"Like"]})})},O=function(e){var t=e.description,s=Object(c.useState)(!0),n=Object(r.a)(s,2),a=n[0],i=n[1];return a?Object(l.jsxs)("section",{className:"px-4 pb-4 bg-gray-100 text-justify",children:[Object(l.jsxs)("p",{children:[t.substring(0,170),"..."]}),Object(l.jsx)("div",{className:"text-right",children:Object(l.jsx)("button",{className:"btn animation mt-4 bg-gray-900 text-gray-50 hover:bg-gray-600",onClick:function(){return i(!1)},children:"Read More"})})]}):Object(l.jsxs)("section",{className:"px-4 pb-4 bg-gray-100 text-justify",children:[Object(l.jsx)("p",{children:t}),Object(l.jsx)("div",{className:"text-right",children:Object(l.jsx)("button",{className:"btn animation rounded-lg mt-4 bg-gray-900 hover:bg-gray-600 text-gray-50",onClick:function(){return i(!0)},children:"Read Less"})})]})},f=function(e){var t=e.title,s=e.imageHD,n=e.imageSD,a=Object(c.useState)("SD"),i=Object(r.a)(a,2),o=i[0],j=i[1];return Object(c.useEffect)((function(){console.log("Image Quality is changed to ".concat(o))}),[o]),Object(l.jsxs)("section",{className:"relative",children:[Object(l.jsx)("picture",{children:"SD"===o?Object(l.jsx)("a",{href:n,target:"_blank",rel:"noopener noreferrer",children:Object(l.jsx)("img",{className:"w-full",src:n,alt:"".concat(t)})}):Object(l.jsx)("a",{href:s,target:"_blank",rel:"noopener noreferrer",children:Object(l.jsx)("img",{className:"w-full",src:s,alt:"".concat(t)})})}),s!==n?Object(l.jsxs)("section",{className:"absolute bottom-0 left-0 bg-gray-50 opacity-70",children:["SD"===o?Object(l.jsx)("button",{className:"animation bg-green-400 font-semibold text-gray-700 hover:bg-green-500 p-1",onClick:function(){return j("SD")},children:"SD"}):Object(l.jsx)("button",{className:"p-1 animation font-semibold text-gray-700 hover:bg-gray-300",onClick:function(){return j("SD")},children:"SD"}),"HD"===o?Object(l.jsx)("button",{className:"animation bg-green-400 font-semibold text-gray-700 hover:bg-green-500 p-1",onClick:function(){return j("HD")},children:"HD"}):Object(l.jsx)("button",{className:"animation p-1 font-semibold text-gray-700 hover:bg-gray-300",onClick:function(){return j("HD")},children:"HD"})]}):null]})},p=function(e){var t=e.videoURL,s=e.title;return Object(l.jsx)("div",{className:"aspect-w-16 aspect-h-9",children:Object(l.jsx)("iframe",{title:s,src:t})})},k=function(e){var t=e.date,s=Object(c.useState)(!1),n=Object(r.a)(s,2),a=n[0],i=n[1];return Object(c.useEffect)((function(){}),[a]),a?Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("button",{disabled:"disabled",children:"Link Copied!"})}):Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("button",{onClick:function(e){navigator.clipboard.writeText("".concat(window.location.origin,"/").concat(t)),i(!0),setTimeout((function(){i(!1)}),3e3)},className:"flex",children:[Object(l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-1 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),"Share"]})})},v=function(e){var t=e.likedPosts,s=e.setLikedPosts,c=e.title,n=e.author,a=e.description,i=e.date,r=e.mediaType,o=e.imageSD,j=e.imageHD;return void 0===n&&(n="A random space scientist."),Object(l.jsxs)("article",{className:"shadow-md bg-gray-100 rounded-lg my-8",children:[Object(l.jsxs)("section",{className:"flex items-center my-2 pt-3 px-4",children:[Object(l.jsx)("div",{className:"mr-4 w-16 h-16",children:Object(l.jsx)(x,{author:n,date:i})}),Object(l.jsxs)("section",{children:[Object(l.jsx)("h2",{className:"font-semibold text-lg leading-5",children:c}),Object(l.jsxs)("p",{className:"text-sm text-gray-500",children:["by ",Object(l.jsx)("span",{className:"text-gray-800 font-medium",children:n})]}),Object(l.jsxs)("p",{className:"text-sm text-gray-500 font-medium",children:[Object(l.jsx)("span",{role:"img","aria-label":"calendar",children:"\ud83d\udcc5"})," ",Object(l.jsx)("time",{datetime:i,children:i})]})]})]}),Object(l.jsx)("section",{children:"image"===r?Object(l.jsx)(f,{imageHD:j,title:c,imageSD:o}):Object(l.jsx)(p,{videoURL:o,title:c})}),Object(l.jsxs)("menu",{className:"flex list-none list-inside p-0 mx-0 my-4 justify-end",type:"toolbar",children:[Object(l.jsx)("li",{className:"mr-4",children:Object(l.jsx)(g,{likedPosts:t,setLikedPosts:s,title:c,date:i,description:a,author:n,mediaType:r,imageHD:j,imageSD:o})}),Object(l.jsx)("li",{className:"mr-4",children:Object(l.jsx)(k,{date:i})})]}),Object(l.jsx)(O,{description:a})]})},y=function(e){var t=e.likedPosts,s=e.setLikedPosts,n=Object(c.useState)([]),a=Object(r.a)(n,2),i=a[0],o=a[1],j=Object(c.useState)([!0]),d=Object(r.a)(j,2),b=d[0],h=d[1];return Object(c.useEffect)((function(){fetch("".concat("https://api.nasa.gov/planetary/apod?api_key=").concat("Z1MOBuhvpHaXD63Ap4LJWC3vJ4W6SOgfEPf3aMbw","&count=9")).then((function(e){return e.json()})).then((function(e){o(e),h(!1)})).catch((function(e){return console.log(e)}))}),[]),b?Object(l.jsx)("section",{children:Object(l.jsx)("p",{children:"Loading the posts from NASA's Space Servers, this can take a bit of time."})}):Object(l.jsx)("div",{children:i.map((function(e){return Object(l.jsx)(v,{likedPosts:t,setLikedPosts:s,title:e.title,date:e.date,description:e.explanation,mediaType:e.media_type,imageSD:e.url,imageHD:e.hdurl,author:e.copyright},Object(u.a)())}))})},S=function(e){var t=e.likedPosts,s=e.setLikedPosts,n=Object(c.useState)([]),a=Object(r.a)(n,2),i=a[0],o=a[1],j=i||[];return Object(c.useEffect)((function(){o(JSON.parse(localStorage.getItem("likedPosts")))}),[]),0===j.length?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(m.a,{children:Object(l.jsx)("title",{children:"Likes | \ud83e\ude90 Spacestagram"})}),Object(l.jsx)("p",{children:"You don't have any liked posts yet. Like some posts and come back!"})]}):Object(l.jsxs)("div",{children:[Object(l.jsx)(m.a,{children:Object(l.jsx)("title",{children:"Likes | \ud83e\ude90 Spacestagram"})}),j.map((function(e){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(v,{likedPosts:t,setLikedPosts:s,title:e.title,date:e.date,description:e.description,mediaType:e.mediaType,imageSD:e.imageSD,imageHD:e.imageHD,author:e.author},Object(u.a)())})}))]})},N=s(3),w=function(e){var t=e.likedPosts,s=e.setLikedPosts,n=Object(c.useState)({}),a=Object(r.a)(n,2),i=a[0],o=a[1],j=Object(c.useState)(!0),d=Object(r.a)(j,2),b=d[0],h=d[1],u=Object(N.f)().date;return Object(c.useEffect)((function(){fetch("".concat("https://api.nasa.gov/planetary/apod?api_key=").concat("Z1MOBuhvpHaXD63Ap4LJWC3vJ4W6SOgfEPf3aMbw","&date=").concat(u)).then((function(e){return e.json()})).then((function(e){o(e),console.log(e),h(!1)})).catch((function(e){return console.log(e)}))}),[]),b?Object(l.jsx)("section",{children:Object(l.jsx)("p",{children:"Loading the posts from NASA's Space Servers, this can take a bit of time."})}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(m.a,{children:Object(l.jsxs)("title",{children:[i.title," | \ud83e\ude90 Spacestagram"]})}),Object(l.jsx)(v,{likedPosts:t,setLikedPosts:s,title:i.title,date:i.date,description:i.explanation,mediaType:i.media_type,imageSD:i.url,imageHD:i.hdurl,author:i.copyright})]})};var L=function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),s=t[0],n=t[1];return Object(c.useEffect)((function(){null===localStorage.getItem("likedPosts")?localStorage.setItem("likedPosts",JSON.stringify(s)):n(JSON.parse(localStorage.getItem("likedPosts")))}),[]),Object(l.jsx)(o.a,{children:Object(l.jsxs)(h,{children:[Object(l.jsx)(m.a,{children:Object(l.jsx)("title",{children:"\ud83e\ude90 Spacestagram"})}),Object(l.jsxs)(N.c,{children:[Object(l.jsx)(N.a,{path:"/",exact:!0,children:Object(l.jsx)(y,{likedPosts:s,setLikedPosts:n})}),Object(l.jsx)(N.a,{path:"/likes",exact:!0,children:Object(l.jsx)(S,{likedPosts:s,setLikedPosts:n})}),Object(l.jsx)(N.a,{path:"/:date",children:Object(l.jsx)(w,{likedPosts:s,setLikedPosts:n})})]})]})})},D=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,35)).then((function(t){var s=t.getCLS,c=t.getFID,n=t.getFCP,a=t.getLCP,i=t.getTTFB;s(e),c(e),n(e),a(e),i(e)}))};i.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(L,{})}),document.getElementById("root")),D()}},[[33,1,2]]]);
//# sourceMappingURL=main.a5e04474.chunk.js.map